\documentclass[accentcolor=tud1b,bibliography=totoc,listof=totoc,oneside,numbersubsubsec,type=msc,fontsize=12pt,colorback]{tudthesis}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}
\usepackage{setspace}
\onehalfspacing
\usepackage{multirow}
\usepackage[german=quotes]{csquotes}
\usepackage{psfrag}
\usepackage[style=numeric,firstinits=true,backend=bibtex,maxbibnames=99,sorting=nty]{biblatex}
\bibliography{bibliography}
\usepackage{tikz}
\usetikzlibrary{shapes,shapes.geometric,automata,positioning,arrows}
\usepackage{pgfplots}
\pgfplotsset{compat=newest}
\usetikzlibrary{patterns}
\usepackage{url}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{graphicx}
\usepackage{breakurl}
\usepackage[ruled,linesnumbered,commentsnumbered]{algorithm2e}
\usepackage{listings}
\renewcommand{\lstlistlistingname}{List of Code Snippets}
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{enumitem}
\usepackage{bm}
\usepackage{perpage}
\MakePerPage{footnote}
\usepackage[skip=3pt]{caption}
\usepackage{subcaption}
\usepackage{pgf-umlcd}
\usepackage{gnuplottex}
\usepackage{multirow}
\usepackage{placeins}
\usepackage{afterpage}

\makeatletter
\AtBeginDocument{%
    \expandafter\renewcommand\expandafter\subsection\expandafter
    {\expandafter\@fb@secFB\subsection}%
    \newcommand\@fb@secFB{\FloatBarrier
        \gdef\@fb@afterHHook{\@fb@topbarrier \gdef\@fb@afterHHook{}}}%
    \g@addto@macro\@afterheading{\@fb@afterHHook}%
    \gdef\@fb@afterHHook{}%
}
\makeatother

\lstset{
    numbers = left, 
    numberstyle = \scriptsize\bfseries, 
    stepnumber = 1, 
    numbersep = 5pt,
    tabsize = 4,
    literate = {\ \ }{{\ }}1,
    keywordstyle = \bfseries,
    basicstyle = \ttfamily,
    frame = tb
}

\begin{document}

\thesistitle{Auto-Scaling Techniques for Spark Streaming}{}
\author{Seyedmajid Azimi Gehraz}
\birthplace{Iran}
\referee{Prof. Dr. rer. nat. Carsten Binnig}{Thomas Heinze}{}
\department{Fachbereich Informatik}
\group{Data Management}
\dateofexam{\today}{\today}

\makethesistitle
\affidavit{Seyedmajid Azimi Gehraz}

\pagenumbering{Roman}

\tableofcontents
\clearpage
\listoffigures
\clearpage
\listoftables
\clearpage
\lstlistoflistings
\clearpage
\listofalgorithms
\addcontentsline{toc}{chapter}{List of Algorithms}
\clearpage
\newcounter{romanpagenumbers}
\setcounter{romanpagenumbers}{\value{page}}

\pagenumbering{arabic}

\chapter*{Abstract}
\include{problem-definition}
\include{intro-auto-scale}
\include{spark}
\include{design}
\include{eval}
\include{related-work}
\chapter{Conclusion}
\label{conc}

\newpage

\pagenumbering{Roman}
\setcounter{page}{\value{romanpagenumbers}}

\printbibliography

\end{document}  